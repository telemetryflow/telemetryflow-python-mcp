# TelemetryFlow Python MCP Server Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# CLAUDE API (Required)
# =============================================================================
# Your Anthropic API key
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Alternative environment variable name (both are supported)
# TELEMETRYFLOW_MCP_CLAUDE_API_KEY=your-api-key-here

# Claude API base URL (optional, defaults to https://api.anthropic.com)
# TELEMETRYFLOW_MCP_CLAUDE_BASE_URL=https://api.anthropic.com

# Default model to use (optional)
# TELEMETRYFLOW_MCP_CLAUDE_DEFAULT_MODEL=claude-sonnet-4-20250514

# =============================================================================
# TELEMETRYFLOW OBSERVABILITY (TELEMETRYFLOW SDK)
# =============================================================================
# Your TelemetryFlow API key for observability (logs, metrics, traces)
# Option 1: Single API key (Python SDK compatibility)
TELEMETRYFLOW_API_KEY=your-telemetryflow-api-key-here

# Option 2: Split API key ID and secret (Python SDK native)
# TELEMETRYFLOW_API_KEY_ID=tfk_your-key-id-here
# TELEMETRYFLOW_API_KEY_SECRET=tfs_your-key-secret-here

# TelemetryFlow API endpoint (default: api.telemetryflow.id:4317)
TELEMETRYFLOW_ENDPOINT=localhost:4317

# Service identification
TELEMETRYFLOW_SERVICE_NAME=telemetryflow-python-mcp
TELEMETRYFLOW_SERVICE_VERSION=1.1.2
TELEMETRYFLOW_SERVICE_NAMESPACE=telemetryflow

# Environment (development, staging, production)
TELEMETRYFLOW_ENVIRONMENT=development

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Server host (default: localhost)
TELEMETRYFLOW_MCP_SERVER_HOST=localhost

# Server port (default: 8080)
TELEMETRYFLOW_MCP_SERVER_PORT=8080

# Transport type: stdio, sse, websocket (default: stdio)
TELEMETRYFLOW_MCP_SERVER_TRANSPORT=stdio

# Debug mode (default: false)
TELEMETRYFLOW_MCP_DEBUG=false

# =============================================================================
# LOGGING
# =============================================================================
# Log level: debug, info, warn, error (default: info)
TELEMETRYFLOW_MCP_LOG_LEVEL=info

# Log format: json, text (default: json)
TELEMETRYFLOW_MCP_LOG_FORMAT=json

# =============================================================================
# MCP PROTOCOL CONFIGURATION
# =============================================================================
# Enable tools capability (default: true)
TELEMETRYFLOW_MCP_ENABLE_TOOLS=true

# Enable resources capability (default: true)
TELEMETRYFLOW_MCP_ENABLE_RESOURCES=true

# Enable prompts capability (default: true)
TELEMETRYFLOW_MCP_ENABLE_PROMPTS=true

# =============================================================================
# REDIS (Caching & Queue)
# =============================================================================
# Redis connection URL
TELEMETRYFLOW_MCP_REDIS_URL=redis://localhost:6379

# Enable caching (default: true)
TELEMETRYFLOW_MCP_CACHE_ENABLED=true

# Cache TTL in seconds (default: 300)
TELEMETRYFLOW_MCP_CACHE_TTL=300

# Enable queue processing (default: true)
TELEMETRYFLOW_MCP_QUEUE_ENABLED=true

# Queue concurrency (default: 5)
TELEMETRYFLOW_MCP_QUEUE_CONCURRENCY=5

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# PostgreSQL connection URL
TELEMETRYFLOW_MCP_POSTGRES_URL=postgres://postgres:postgres@localhost:5432/telemetryflow_mcp?sslmode=disable

# Connection pool settings
TELEMETRYFLOW_MCP_POSTGRES_MAX_CONNS=25
TELEMETRYFLOW_MCP_POSTGRES_MIN_CONNS=5

# =============================================================================
# ANALYTICS DATABASE (ClickHouse)
# =============================================================================
# ClickHouse connection URL
TELEMETRYFLOW_MCP_CLICKHOUSE_URL=clickhouse://localhost:9000/telemetryflow_mcp

# =============================================================================
# TELEMETRY CONFIGURATION
# =============================================================================
# Enable telemetry (default: true)
TELEMETRYFLOW_MCP_TELEMETRY_ENABLED=true

# Telemetry backend: telemetryflow, otel (default: telemetryflow)
# Uses TelemetryFlow SDK as the primary telemetry backend
TELEMETRYFLOW_MCP_TELEMETRY_BACKEND=telemetryflow

# =============================================================================
# OPENTELEMETRY COMPATIBILITY (Optional - for legacy OTEL integration)
# =============================================================================
# Note: TelemetryFlow SDK is the primary telemetry backend.
# These settings are only used when TELEMETRY_BACKEND=otel or for OTEL export.

# OTLP endpoint for traces/metrics (used by TelemetryFlow SDK for OTEL export)
TELEMETRYFLOW_MCP_OTLP_ENDPOINT=localhost:4317

# Service name (standard OTEL env var, used alongside TelemetryFlow SDK)
TELEMETRYFLOW_MCP_SERVICE_NAME=telemetryflow-python-mcp


# =============================================================================
# TELEMETRYFLOW SDK ADVANCED SETTINGS
# =============================================================================
# Protocol (grpc, http)
TELEMETRYFLOW_PROTOCOL=grpc

# Use insecure connection (default: false)
TELEMETRYFLOW_INSECURE=false

# Request timeout in seconds
TELEMETRYFLOW_TIMEOUT=30

# Enable compression (default: true)
TELEMETRYFLOW_COMPRESSION=true

# Signal configuration
TELEMETRYFLOW_ENABLE_TRACES=true
TELEMETRYFLOW_ENABLE_METRICS=true
TELEMETRYFLOW_ENABLE_LOGS=true
TELEMETRYFLOW_ENABLE_EXEMPLARS=true

# Batch settings
TELEMETRYFLOW_BATCH_TIMEOUT_MS=5000
TELEMETRYFLOW_BATCH_MAX_SIZE=512

# Retry settings
TELEMETRYFLOW_RETRY_ENABLED=true
TELEMETRYFLOW_MAX_RETRIES=3
TELEMETRYFLOW_RETRY_BACKOFF_MS=500

# Rate limiting
TELEMETRYFLOW_RATE_LIMIT=1000

# =============================================================================
# SECURITY
# =============================================================================
# Require API key for requests
# TELEMETRYFLOW_MCP_SECURITY_REQUIRE_API_KEY=false

# Rate limit per minute
# TELEMETRYFLOW_MCP_SECURITY_RATE_LIMIT_PER_MINUTE=100

# =============================================================================
# DOCKER COMPOSE SPECIFIC
# =============================================================================
# MCP Server version
TELEMETRYFLOW_MCP_VERSION=1.1.2

# Database ports (for docker-compose)
REDIS_PORT=6379
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=telemetryflow_mcp
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_NATIVE_PORT=9000
CLICKHOUSE_DB=telemetryflow_mcp
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# Message Queue (NATS)
NATS_PORT=4222
NATS_MONITOR_PORT=8222

# Observability ports (for docker-compose with observability profile)
OTEL_GRPC_PORT=4317
OTEL_HTTP_PORT=4318
JAEGER_UI_PORT=16686
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
